.month-cal{ display:flex; flex-direction:column; gap:12px; max-width: 100%; }
.month-grid{ display:grid; grid-template-columns: repeat(7, minmax(0, 1fr)); gap:10px; width:100%; }
.dow{ color: var(--text-2); font-size:.9rem; padding:4px 6px }
.day-cell{ position:relative; border-radius:12px; padding:8px; min-height:90px; background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.1); overflow:hidden }
.day-cell.empty{ background:transparent; border:none }
.day-cell .cell-header{ display:flex; align-items:center; justify-content:space-between }
.day-cell .day-num{ color: var(--text-1); font-weight:600 }
.badges{ display:flex; gap:6px; align-items:center }
.badge{ font-size:.9rem; line-height:1; opacity:.9 }
.badge.neg{ color:#ff6aa6 }
.badge.hit{ color:#56e3ff }
.badge.timer{ color:#9aa6c2 }

/* Divergent heat (Net Attributes) red↔gray↔green */
.day-cell.heat-neg2{ background-image: linear-gradient(135deg, rgba(220, 38, 38,.24), rgba(127,29,29,.26)); box-shadow: inset 0 0 0 1px rgba(220,38,38,.14) }
.day-cell.heat-neg1{ background-image: linear-gradient(135deg, rgba(239, 68, 68,.18), rgba(127,29,29,.16)); }
.day-cell.heat-zero{ background: rgba(255,255,255,.06) }
.day-cell.heat-pos1{ background-image: linear-gradient(135deg, rgba(16,185,129,.16), rgba(21,128,61,.18)); }
.day-cell.heat-pos2{ background-image: linear-gradient(135deg, rgba(5,150,105,.24), rgba(21,128,61,.28)); box-shadow: inset 0 0 0 1px rgba(16,185,129,.14) }

/* Fill bar (coverage) – scoped to day cells to avoid leaking into other .fill usages */
.day-cell .fill{ position:absolute; left:6px; right:6px; bottom:6px; height:8px; border-radius:8px; background: rgba(255,255,255,.06); overflow:hidden; box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), inset 0 1px 2px rgba(0,0,0,.25) }
.day-cell .fill::after{ content:""; position:absolute; left:0; top:0; bottom:0; width:var(--fill-pct, 0%); border-radius:inherit; background-image: linear-gradient(90deg, #36d1ff, #8b5cf6); box-shadow: 0 1px 6px rgba(54,209,255,.25), 0 0 0 1px rgba(139,92,246,.18) }

/* Fill visual state for >100% (pattern only). Width still comes from --fill-pct */
.day-cell .fill.fill-over::after{ background-image: repeating-linear-gradient(45deg, #36d1ff 0 10px, #8b5cf6 10px 20px) }

.day-cell:hover{ outline: none; box-shadow: 0 0 0 3px rgba(0,157,255,.3) }

/* Responsive tweaks */
@media (max-width: 900px) {
  .month-grid { gap: 8px; }
  .day-cell { min-height: 78px; padding: 8px; }
  .dow { font-size: .85rem; padding: 3px 4px; }
}

@media (max-width: 640px) {
  .month-grid { gap: 6px; }
  .day-cell { min-height: 64px; padding: 6px; border-radius: 10px; }
  .day-cell .cell-header { gap: 6px; }
  .day-cell .day-num { font-size: .95rem; }
  .badge { font-size: .8rem; }
  .day-cell .fill { left:4px; right:4px; bottom:4px; height:6px; }
  .dow { font-size: .8rem; padding: 2px 2px; }
}

@media (max-width: 400px) {
  .month-grid { gap: 4px; }
  .day-cell { min-height: 52px; padding: 4px; border-radius: 8px; }
  .day-cell .day-num { font-size: .85rem; }
  .badges { gap: 4px; }
  .badge { font-size: .7rem; }
  .day-cell .fill { left:3px; right:3px; bottom:3px; height:5px; }
  /* If space is critical, hide badges; uncomment if desired */
  /* .badges { display: none; } */
}
