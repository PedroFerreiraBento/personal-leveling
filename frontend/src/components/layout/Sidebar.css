 .app-sidebar{ width:260px; flex:0 0 260px; position:relative; z-index:var(--z-base); }
.app-sidebar nav{ position:sticky; top:80px; display:flex; flex-direction:column; gap:var(--space-2); }
.nav-item{ display:flex; align-items:center; gap:var(--space-4); height:44px; padding:0 var(--space-4); border-radius:12px; color:var(--text-1); text-decoration:none; border:1px solid transparent; }
.nav-item .icon{ width:20px; text-align:center; opacity:.9; }
.nav-item:hover{ background:rgba(255,255,255,.04); border-color:var(--line); }
.nav-item.active{ border-left:2px solid var(--pri); background:rgba(0,157,255,.06); box-shadow:0 0 18px rgba(0,157,255,.18) inset; }
/* Disabled state */
.nav-item.disabled{ opacity:.5; filter:saturate(.4); cursor:not-allowed; pointer-events:none; border-color:transparent; background:transparent; }
.nav-item.disabled .icon{ opacity:.5; }
/* Spacer for right-aligned chevron */
.nav-item .spacer{ flex:1 1 auto; }

/* Settings toggle should look like a nav item */
.settings-toggle{ -webkit-appearance:none; appearance:none; background:transparent; border:none; color:inherit; font:inherit; width:100%; text-align:left; cursor:pointer; }
.settings-toggle:hover{ background:rgba(255,255,255,.04); border-color:var(--line); }
.settings-toggle.active{ border-left:2px solid var(--pri); background:rgba(0,157,255,.06); box-shadow:0 0 18px rgba(0,157,255,.18) inset; }
.settings-toggle .chevron{ transition:transform .18s ease, opacity .18s ease; opacity:.65; }
.settings-toggle[aria-expanded="true"] .chevron{ transform:rotate(180deg); }

/* Submenu container */
.submenu{ display:none; padding-left:28px; }
.submenu.open{ display:flex; flex-direction:column; gap:6px; margin:6px 0; }

/* Sub items */
.nav-item.sub{ height:40px; padding:0 var(--space-3); border-radius:10px; }
.nav-item.sub:hover{ background:rgba(255,255,255,.04); border-color:var(--line); }
.nav-item.sub .icon{ opacity:.8; }
/* Hidden on desktop */
.sidebar-actions{ display:none; }
@media (max-width: 1024px){
  /* hidden by default on mobile */
  .app-sidebar{
    display:block;
    position:fixed;
    left:0; top:0; bottom:0;
    transform:translateX(-100%);
    transition:transform .25s ease;
    background:rgba(17,26,44,.95);
    border-right:1px solid var(--line);
    padding: var(--space-7) var(--space-4);
    z-index: var(--z-sidebar); /* above footer/header on mobile */
  }
  .app-sidebar.open{ transform:translateX(0); }
  /* Actions pinned to bottom on mobile */
  .sidebar-actions{
    display:flex;
    align-items:center;
    gap:var(--space-3);
    position:absolute;
    left:var(--space-4);
    right:var(--space-4);
    bottom:var(--space-5);
  }
}
